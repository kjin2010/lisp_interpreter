<!DOCTYPE html>
<!-- saved from url=(0042)https://eecs6009.mit.edu/fall17/labs/lab8B -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This page was generated by CAT-SOOP (development version).  miau. -->

<title>6.009 Fall 2017</title>
<link href="https://eecs6009.mit.edu/__STATIC__/fall17/favicon.gif" rel="icon" type="image/gif">
<!-- jQuery and Bootstrap and SweetAlert -->
<script src="./Lab 8B_files/jquery.js"></script>
<link href="./Lab 8B_files/bootstrap.css" rel="stylesheet">
<script src="./Lab 8B_files/bootstrap.js"></script>
<link href="./Lab 8B_files/sweetalert2.css" rel="stylesheet">
<script src="./Lab 8B_files/sweetalert2.js"></script>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    var catsoop = {plugins: {}};
    </script>
<!-- automatically adjust the top padding so that the whole page is visible even if the navbar's height changes -->
<!-- also move the target for anchors so the navbar doesn't hide them -->
<script type="text/javascript">
      catsoop.scroll_header = function(){
          scrollBy(0, -$('#cs_main_navbar').height());
      }

      catsoop.set_top_margin = function(){
          $("#myPage").css('padding-top', $('#cs_main_navbar').height());
      }

      $(document).ready(function(){
        catsoop.set_top_margin();
        if (location.hash) catsoop.scroll_header();
        window.addEventListener("hashchange", catsoop.scroll_header);
      });
      $(window).resize(catsoop.set_top_margin);
    </script>
<!-- Additional styling specific for course-->
<link href="./Lab 8B_files/process_theme" rel="stylesheet" type="text/css">
<!-- load in katex and mathjax, and CAT-SOOP-specific math rendering  -->
<script src="./Lab 8B_files/katex.min.js" type="text/javascript"></script>
<link href="./Lab 8B_files/katex.min.css" rel="stylesheet" type="text/css">
<script src="./Lab 8B_files/MathJax.js" type="text/javascript"></script>
<script src="./Lab 8B_files/cs_math.js" type="text/javascript"></script>
<!-- CAT-SOOP Hashing -->
<script src="./Lab 8B_files/cs_hash.js" type="text/javascript"></script>
<!-- Syntax Highlighting -->
<link href="./Lab 8B_files/catsoop.css" rel="stylesheet">
<script src="./Lab 8B_files/highlight.pack.js" type="text/javascript"></script>
<script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
<meta content="width=device-width, initial-scale=1" name="viewport">
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body id="myPage" style="padding-top: 53px;"><div id="MathJax_Message" style="display: none;"></div>
<nav class="navbar navbar-default navbar-fixed-top" id="cs_main_navbar">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target="#catsoopnavbar" data-toggle="collapse" type="button">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<div class="navbar-brand"><a href="https://eecs6009.mit.edu/fall17">6.009</a></div><div class="navbar-brand"><div class="logininfo"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://eecs6009.mit.edu/fall17">Home</a></li><li class="breadcrumb-item-active"><a href="https://eecs6009.mit.edu/fall17/labs/lab8B">Lab 8B: <i>carlae</i> Part II</a></li></ol></div></div>
</div>
<div class="collapse navbar-collapse" id="catsoopnavbar"><ul class="nav navbar-nav navbar-right">
<li><a href="https://eecs6009.mit.edu/fall17">Homepage</a></li>
<li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="https://eecs6009.mit.edu/fall17/labs/lab8B" role="button">Information<span class="caret"></span></a><ul class="dropdown-menu">
<li><a href="https://eecs6009.mit.edu/fall17/calendar">Calendar and Handouts</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/gradesheet">Grade sheet</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/announcements">Archived Announcements</a></li>
<li class="divider"></li>
<li><a href="https://eecs6009.mit.edu/fall17/information">Basic Information</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/schedule_staff">Schedule and Staff</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/grading">Grading Policies</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/collaboration">Collaboration Policy</a></li>
<li class="divider"></li>
<li><a href="https://eecs6009.mit.edu/fall17/python">Accessing/Installing Python</a></li></ul>
</li><li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="https://eecs6009.mit.edu/fall17/labs/lab8B" role="button">Quizzes<span class="caret"></span></a><ul class="dropdown-menu">
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/q1_practice"> Quiz 1 Practice Quiz</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/q1_problems"> Quiz 1 Practice Problems</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz1"> Quiz 1</a></li>
<li class="divider"></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/q2_practice"> Quiz 2 Practice Quiz</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/q2_problems"> Quiz 2 Practice Problems</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz2"> Quiz 2</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz2_resubmit"> Quiz 2 Resubmit</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz2_makeup/rooms"> Quiz 2 Makeup Room Signup</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz2_makeup"> Quiz 2 Makeup</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/quizzes/quiz2_makeup_resubmit"> Quiz 2 Makeup Resubmit</a></li></ul>
</li><li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="https://eecs6009.mit.edu/fall17/labs/lab8B" role="button">Labs<span class="caret"></span></a><ul class="dropdown-menu">
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab1">Lab 1</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab2">Lab 2</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab3">Lab 3</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab4">Lab 4</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab5">Lab 5</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab6">Lab 6</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab7">Lab 7</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/labs/lab8A">Lab 8A</a></li></ul>
</li><li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="https://eecs6009.mit.edu/fall17/labs/lab8B" role="button">Help<span class="caret"></span></a><ul class="dropdown-menu">
<li><a href="https://piazza.com/mit/fall17/6009">Piazza</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/queue">Help Queue</a></li>
<li><a href="https://eecs6009.mit.edu/fall17/otherhelp">Other Help</a></li></ul>
</li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B?loginaction=logout">Log Out</a></li></ul></div>
</div>
</nav>
<div id="content">
<center>
<h1>Lab 8B: <i>carlae</i> Part II</h1>
</center>
<div class="container">
<div class="row">
<div class="col-md-1"></div>
<div class="col-md-10">
<div id="page_content"><center>The questions below are due on Monday November 20, 2017; 10:00:00 PM.<br><hr><br></center><h2>Table of Contents</h2><ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_1">1) Timing</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_2">2) Preparation</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_3">3) Introduction</a></li><ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_3_1">3.1) Conditionals</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_3_2">3.2) Booleans and Comparisons</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_3_3">3.3) Lists</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_3_4">3.4) Built-in List Functions</a></li></ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_4">4) Reading From Files</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_5">5) Command Line Arguments</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_6">6) Evaluating Multiple Expressions</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_7">7) Variable Binding Manipulation</a></li><ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_7_1">7.1) <code>let</code></a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_7_2">7.2) <code>set!</code></a></li></ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_8">8) Notes and Optional Improvements</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_9">9) Code Submission</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_10">10) Checkoff</a></li><ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_10_1">10.1) Grade</a></li></ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_11" id="catsoop_label_optional" label="optional">11) Optional Improvements</a></li><ul><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_11_1">11.1) Tail-Call Optimization</a></li><li><a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_11_2">11.2) Additional (Optional) Improvements and Exercises</a></li></ul></ul><a name="catsoop_section_1"></a><h2>1) Timing</h2>
<p>This lab is part 2 of a two-week lab, which will be completed next week.  Due
dates for this part are:</p>
<ul>
<li><em>Code submission and concept questions</em>: Monday, 20 November, 10pm</li>
<li><em>Checkoff</em>: Wednesday, 29 November, 5pm</li>
</ul>
<a name="catsoop_section_2"></a><h2>2) Preparation</h2>
<p>This lab assumes you have Python 3.5 or later installed on your machine.</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a download="lab8B.zip" href="https://eecs6009.mit.edu/fall17/lab_distribution.zip?path=%5B%22fall17%22%2C+%22labs%22%2C+%22lab8B%22%5D"><tt>lab8B.zip</tt></a></p>
<p>You should start by copying your <code>lab.py</code> file from lab 8A into this week's
distribution.  Most of your changes will be made to this file.</p>
<p>You may submit portions of the lab late (see the <a href="https://eecs6009.mit.edu/fall17/grading">grading page</a>
for more details), but the last day to submit this lab will be the Friday after
the due date.</p>
<p>This lab is worth a total of 4 points.  Your score for the lab is based on:</p>
<ul>
<li>passing the test cases from <code>test.py</code> under the time limit (1.5 points), and</li>
<li>a brief "checkoff" conversation with a staff member to discuss your code (2.5 points).</li>
</ul>
<p>Please also review the <a href="https://eecs6009.mit.edu/fall17/collaboration">collaboration policy</a> before continuing.</p>
<a name="catsoop_section_3"></a><h2>3) Introduction</h2>
<p>In lab 8A, you implemented an interpreter for a dialect of <a href="https://en.wikipedia.org/wiki/Lisp_%28programming_language%29" target="_blank">LISP</a> called <em>carlae</em>.  This lab builds on your work from lab 8A to introduce some new features into the <em>carlae</em> language.  If you have not yet finished lab 8A, you should do so before working on this lab.</p>
<p>Your code should pass the <code>Test1_OldTests</code> and <code>Test2_NewTestsForOldBehaviors</code> test suites with no modification to your lab 8A file.</p>
<p><a name="catsoop_section_3_1"></a></p><h3>3.1) Conditionals</h3><p></p>
<p>Now we'll add support for conditional execution via the <code>if</code> special form, which has the following form: <code>(if COND TRUEEXP FALSEEXP)</code></p>
<p>To evaluate this form, we need to first evaluate <code>COND</code>.  If <code>COND</code> evaluates to true, the result of this expression is the result of evaluating <code>TRUEEXP</code>; if <code>COND</code> instead evaluates to false, the result of this expression is the result of evaluating <code>FALSEEXP</code>.  Note that we should <em>never</em> need to evaluate both <code>TRUEEXP</code> and <code>FALSEEXP</code> when evaluating an <code>if</code> expression (for this reason, we cannot implement <code>if</code> as a function; it <em>must</em> be a special form).</p>
<p><a name="catsoop_section_3_2"></a></p><h3>3.2) Booleans and Comparisons</h3><p></p>
<p>In order to implement <code>if</code>, we will need a way to represent Boolean values in <em>carlae</em>.  This decision is up to you, but no matter your choice of representation, you should make these values available inside of <em>carlae</em> as literals <code>#t</code> and <code>#f</code>, respectively.  We will also need several additional functions, all of which should take arbitrarily many arguments:</p>
<ul>
<li><code>=?</code> should evaluate to true if all of its arguments are equal to each other.</li>
<li><code>&gt;</code> should evaluate to true if its arguments are in decreasing order.</li>
<li><code>&gt;=</code> should evaluate to true if its arguments are in nonincreasing order.</li>
<li><code>&lt;</code> should evaluate to true if its arguments are in increasing order.</li>
<li><code>&lt;=</code> should evaluate to true if its arguments are in nondecreasing order.</li>
</ul>
<p>As well as the following Boolean combinators:</p>
<ul>
<li><code>and</code> should be a <em>special form</em> that takes arbitrarily many arguments and evaluates to true if <em>all</em> of its arguments are true.  It should only evaluate the arguments it needs to evaluate to determine the result of the expression.  For example, <code>(and (&gt; 3 2) (&lt; 7 8) #f)</code> should evaluate to false.</li>
<li><code>or</code> should be a <em>special form</em> that takes arbitrarily many arguments and evaluates to true if <em>any</em> of its arguments is true.  It should only evaluate the arguments it needs to evaluate to determine the result of the expression.  For example, <code>((or (&gt; 3 2) #t (&lt; 4 3))</code> should evaluate to true.</li>
<li><code>not</code> should be a <em>function</em> that takes a single argument and should evaluate to false if its argument is true, and true if its argument is false.  For example, <code>(not (=? 2 3))</code> should evaluate to true.</li>
</ul>
<p>In <em>carlae</em> (as in Python), <code>and</code> and <code>or</code> do not behave like functions, in the
sense that they do not necessarily evaluate all their arguments; they only
evaluate as far as they need to to figure out what their result should be.</p>
<p></p><div class="question"><b>Check Yourself:</b><p>
<code>and</code> evaluates to true only if all of its arguments are true.  So if we're
evaluating all its arguments in order one-by-one, under what condition can we
stop (and avoid evaluating the rest of the arguments)?  What about <code>or</code>?
</p><p><span id="queue_checkyourself_1"></span></p></div><p></p>
<p>After implementing these functions / special forms, modify your <code>evaluate</code>
function so that it properly handles the <code>if</code> special form.  Once you have done
so, your code should pass the <code>Test3_Conditionals</code> test suite in <code>test.py</code>.</p>
<p>With this addition, your interpreter should be able to handle recursion!  Try
running the following pieces of code from your REPL to check that this is
working:</p>
<pre><code class="nohighlight">in&gt; (define (factorial n) (if (&lt;= n 1) 1 (* n (factorial (- n 1)))))
in&gt; (factorial 6)
</code></pre>
<p>And feel free to play around and try some programs of your own!</p>
<p><a name="catsoop_section_3_3"></a></p><h3>3.3) Lists</h3><p></p>
<p>Next, let's add support for <em>lists</em>.  Add a new function called <code>list</code> to the built-in functions.  <code>list</code> should take arbitrarily many arguments, and it should return a list containing those elements.  In <em>carlae</em>, we will implement lists as <a href="https://en.wikipedia.org/wiki/Linked_list" target="_blank">linked lists</a> (as is typical in many LISP dialects).  The implementation is discussed below:</p>
<p>You should implement your linked list representation as a class called <code>LinkedList</code>.  Each instance of <code>LinkedList</code> should have exactly two instance variables:</p>
<ul>
<li>an attribute called <code>elt</code> (the element at this position in the list), and</li>
<li>an attribute called <code>next</code>, which points to an instance of <code>LinkedList</code> representing the next element in the list, or <code>None</code> if this instance represents the end of the list.</li>
</ul>
<p><a name="catsoop_section_3_4"></a></p><h3>3.4) Built-in List Functions</h3><p></p>
<p>Add a <code>list</code> function to <em>carlae</em>; this function should take one or more arguments and should construct a <code>LinkedList</code> instance that contains those arguments, in order.  You should make sure that calling <code>list</code> with no arguments produces a
representation for an empty list (you may take some inspiration from the fact
that the <code>next</code> attribute of a length-1 list is <code>None</code>).</p>
<p>In addition, we will define some additional built-in functions for operating on lists within <em>carlae</em>.</p>
<p></p><div class="question">
<strong>All of the functions below should be implemented by operating directly on instances of <code>LinkedList</code>, without ever converting to a Python list.</strong>
</div><p></p>
<h4><code>car</code> and <code>cdr</code></h4>
<p>These functions, named for <a href="https://en.wikipedia.org/wiki/CAR_and_CDR">historical reasons</a>, return the "head" and the "tail" of a linked list, respectively.</p>
<ul>
<li><code>(car LIST)</code> should take a list as argument and should return the first element in that list.  If it is called on an empty list, it should raise an <code>EvaluationError</code>.</li>
<li><code>(cdr LIST)</code> should take a list as argument and return the list containing all but the first element in that list.  If it is called on an empty list, it should raise an <code>EvaluationError</code>.</li>
</ul>
<h4>Convenience Methods</h4>
<p>In addition, we will add a few functions for convenience:</p>
<ul>
<li><code>(length LIST)</code> should take a list as argument and should return the length of that list.</li>
<li><code>(elt-at-index LIST INDEX)</code> should take a list and an index, and it should return the element at the given index in the given list (as in Python, indices start from 0).</li>
<li><code>(concat LIST1 LIST2 LIST3 ...)</code> should take an arbitrary number of lists as arguments and should return a new list representing the concatenation of these lists.  If exactly one list is passed in, it should return a copy of that list.  If <code>concat</code> is called with no arguments, it should produce an empty list.</li>
</ul>
<h4><code>map</code>, <code>filter</code>, and <code>reduce</code></h4>
<p>Beyond these functions, the following will allow us to easily construct new lists from existing ones:</p>
<ul>
<li>
<p><code>(map FUNCTION LIST)</code> takes a function and a list as arguments, and it returns a <em>new list</em> containing the results of applying the given function to each element of the given list.</p>
<p>For example, <code>(map (lambda (x) (* 2 x)) (list 1 2 3))</code> should produce the list <code>(2 4 6)</code>.</p>
</li>
<li>
<p><code>(filter FUNCTION LIST)</code> takes a function and a list as arguments, and it returns a <em>new list</em> containing only the elements of the given list for which the given function returns true.</p>
<p>For example, <code>(filter (lambda (x) (&gt; x 0)) (list -1 2 -3 4))</code> should produce the list <code>(2 4)</code>.</p>
</li>
<li>
<p><code>(reduce FUNCTION LIST INITVAL)</code> takes a function, a list, and an initial value as inputs.  It produces its output by successively applying the given function to the elements in the list, maintaining an intermediate result along the way.  This is perhaps the most difficult of the three functions to understand, but it is perhaps easiest to see by example.</p>
<p>Consider <code>(reduce * (list 9 8 7) 1)</code>.  The function in question is <code>*</code>.  Our initial value is <code>1</code>.  We take this value and combine it with the first element in the list using the given function, giving us <code>(* 1 9)</code> or <code>9</code>.  Then we take <em>this</em> result and combine it with the next element in the list using the given function, giving us <code>(* 9 8)</code> or <code>72</code>.  Then we take <em>this</em> result and combine it with the next element in the list using the given function, giving us <code>(* 72 7)</code> or <code>504</code>.  Since we have reached the end of the list, this is our final return value (if there were more elements in the list, we would keep combining our "result so far" with the next element in the list, using the given function).</p>
</li>
</ul>
<p>The Wikipedia pages for <a href="https://en.wikipedia.org/wiki/Map_%28higher-order_function%29">map</a>, <a href="https://en.wikipedia.org/wiki/Filter_%28higher-order_function%29">filter</a>, and <a href="https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29">reduce</a> provide some additional examples.</p>
<p>Once we have these three functions, we have the equivalent of list comprehensions in <em>carlae</em>!  In Python, for example, we might write:</p>
<pre><code class="nohighlight">sum([i**2 for i in some_list if i &lt; 0)
</code></pre>
<p>In <em>carlae</em>, we can now do the same thing with the following code:</p>
<pre><code class="nohighlight">(reduce + (map (lambda (i) (* i i)) (filter (lambda (i) (&lt; i 0)) some_list)) 0)
</code></pre>
<p>This is a lot to take in, but it gives us the same result:</p>
<ul>
<li>It first <em>filters</em> <code>some_list</code> to produce a list containing only the negative values.</li>
<li>It then <em>maps</em> the "square" function onto the resulting list.</li>
<li>Finally, it <em>reduces</em> that result by successive application of the <code>+</code> operator to produce the sum.</li>
</ul>
<h4>Implementation</h4>
<p>Implement the <code>list</code>, <code>car</code>, <code>cdr</code>, <code>length</code>, <code>elt-at-index</code>, <code>concat</code>, <code>map</code>, <code>filter</code>, and <code>reduce</code> functions and add them to the built-in functions.  Once you have done so, your code should pass the <code>Test4_Lists</code> suite in <code>test.py</code>.  <strong>REMINDER that these functions should not operate by converting to Python lists.</strong></p>
<a name="catsoop_section_4"></a><h2>4) Reading From Files</h2>
<p>So far, when we have wanted to define new functions, we have had to type them
(or copy/paste them) into the REPL every time we run the program.  In this
section, we will add the capability to run the contents of a file before
dropping into our REPL, which we can use, for example, to define multiple
functions.</p>
<p>Define a function called <code>evaluate_file</code> in <code>lab.py</code>.  This function should
take a single argument (a string containing the name of a file to be evaluated)
and an optional argument (the environment in which to evaluate the expression),
and it should return the result of evaluating the expression contained in the
file.</p>
<p>You may find the documentation for Python's built-in <a href="https://docs.python.org/3/library/functions.html#open"><code>open</code> function</a> helpful.</p>
<a name="catsoop_section_5"></a><h2>5) Command Line Arguments</h2>
<p>Now that we have the ability to evaluate the contents of a file in a particular
environment, we will need to let Python know <em>which</em> files it should evaluate
before dropping into the REPL.  We will do this by passing the names of these
files to <em>carlae</em> as <em>command line arguments</em>.  For example, instead of just
running:</p>
<pre><code class="nohighlight">$ python3 lab.py
</code></pre>
<p>we will run something like:</p>
<pre><code class="nohighlight">$ python3 lab.py some_definitions.crl more_definitions.crl
</code></pre>
<p>From inside of Python, these arguments are available as part of the <code>sys.argv</code>
list.  For the example above, <code>sys.argv</code> will contain:</p>
<pre><code class="nohighlight">['lab.py', 'some_definitions.crl', 'more_definitions.crl']
</code></pre>
<p>Modify <code>lab.py</code> so that, when <code>lab.py</code> is run with filenames passed in on the
command line, it evaluates the expressions contained in those files into the
global environment before entering the REPL.  You may assume that each file
contains only one expression.  To test your code, you can make a few files that
contain simple expressions you can check (for example, <code>define</code> a single
variable inside a file and make sure it is available to you from the REPL after
that file is evaluated).</p>
<a name="catsoop_section_6"></a><h2>6) Evaluating Multiple Expressions</h2>
<p>To help with the above, introduce a new built-in function called <code>begin</code>.
<code>begin</code> should simply return its last argument.  This is a useful structure for
running commands successively: even though only the last argument is returned,
all of the arguments are evaluated in turn, which allows us to run arbitrary
expressions sequentially.</p>
<p>For example, <code>(begin (define x 7) (define y 8) (- x y))</code> should evaluate to <code>-1</code>.</p>
<p>After you have implemented <code>begin</code>, you should be able to run <code>python3 lab.py
test_files/definitions.crl</code> to grab some definitions into the REPL.</p>
<p>After implementing <code>begin</code>, your code should pass tests the <code>Test6_Files</code> test suite in <code>test.py</code>.</p>
<a name="catsoop_section_7"></a><h2>7) Variable Binding Manipulation</h2>
<p>We will finish by implementing two additional special forms, which can be used
to manipulate variable bindings: <code>let</code> and <code>set!</code>.</p>
<p><a name="catsoop_section_7_1"></a></p><h3>7.1) <code>let</code></h3><p></p>
<p><code>let</code> is used for creating <em>local variable definitions</em>.  It takes the form:  <code>(let ((VAR1 VAL1) (VAR2 VAL2) (VAR3 VAL3) ...) BODY)</code>, where <code>VAR1</code>, <code>VAR2</code>, etc., are variable names, and <code>VAL1</code>, <code>VAL2</code>, etc., are expressions denoting the values to which those names should be bound.  It works by:</p>
<ul>
<li>Evaluating all the given values in the current environment</li>
<li><em>Creating a new environment</em> whose parent is the current environment, and binding each name to its associated value in this new environment.</li>
<li>Evaluating the <code>BODY</code> expression in this new environment (this value is the result of evaluating the <code>let</code> special form).</li>
</ul>
<p>Note that the given bindings are only available in the body of the <code>let</code> expression.  For example:</p>
<pre><code class="nohighlight">in&gt; (define z 5)
    out&gt; 5

in&gt; (let ((x 5) (y 3)) (+ x y z))
    out&gt; 13

in&gt; x
    EXCEPTION!

in&gt; y
    EXCEPTION!

in&gt; z
    out&gt; 5
</code></pre>
<p><a name="catsoop_section_7_2"></a></p><h3>7.2) <code>set!</code></h3><p></p>
<p><code>set!</code> (often pronounced "set-bang", or just "set") is used for <em>changing the
value of an existing variable</em>.  It takes the form: <code>(set! VAR EXPR)</code>, where
<code>VAR</code> is a variable name, and <code>EXPR</code> is an expression.</p>
<p>It should work by:</p>
<ul>
<li>Evaluating the given expression in the current environment</li>
<li>Finding the nearest enclosing environment in which <code>VAR</code> is defined (starting from the current environment and working upward until it finds a binding), and updating its binding <em>in that environment</em> to be the result of evaluating <code>EXPR</code></li>
</ul>
<p>It should also evaluate to that same value.</p>
<p>If <code>VAR</code> is not defined in any environments in the chain, <code>set!</code> should raise
an <code>EvaluationError</code>.</p>
<pre><code class="nohighlight">in&gt; (define x 7)
    out&gt; 7

in&gt; (define (foo z) (set! x (+ z 2)))
    out&gt; function object

in&gt; (foo 3)
    out&gt; 5

in&gt; x
    out&gt; 5

in&gt; (define (bar z) (define x (+ z 2)))
    out&gt; function object

in&gt; (bar 7)
    out&gt; 9

in&gt; x
    out&gt; 5
</code></pre>
<p>Implement <code>let</code> and <code>set!</code> in <code>lab.py</code>.  After doing so, your code should pass all the tests in <code>test.py</code>!  Note that the last 4 test cases are realistic programs implemented in <em>carlae</em>!</p>
<a name="catsoop_section_8"></a><h2>8) Notes and Optional Improvements</h2>
<p>Congratulations; you've just implemented your first interpreter!  By now your <em>carlae</em> interpreter is capable of evaluating arbitrarily complicated programs!</p>
<p>Hopefully this has been fun, interesting, and educational in its own right, but there are a few important reasons why we've chosen this as a project:</p>
<ol>
<li>
<p>There is something powerful in understanding that an interpreter for a programming language (even one as complicated as Python) is <em>just another computer program</em>, and it is something that, with time and effort, you are capable of writing.</p>
</li>
<li>
<p>This is an example of a rather large and complicated program, but we were able to manage that complexity by breaking things down into small pieces.</p>
</li>
<li>
<p>We wanted to give you an opportunity to make some more open-ended design decisions than you have been asked to make in the past, and this lab offers such an opportunity.</p>
</li>
<li>
<p>Our little <em>carlae</em> interpreter actually has a lot in common with the Python interpreter, and so there is a hope that you have learned something not only about this little language, but also about how Python behaves.  Among other things:</p>
<ul>
<li>both run programs by breaking the process down into lexing, parsing, and evaluating, and</li>
<li>the way function calls are scoped and handled is very similar in the two languages.</li>
</ul>
</li>
<li>
<p>Course 6 and LISP have a long history:</p>
<ul>
<li>LISP was conceived by John McCarthy at MIT in 1958, and one of the most widely used LISP dialects, Scheme, was developed here by Guy Steele and Gerry Sussman in 1970.</li>
<li>The predecessor to 6.009, 6.001 <em>Structure and Interpretation of Computer Programs</em>, was taught as part of the course 6 introductory series for around 30 years and used Scheme as its primary language.  The <a href="https://mitpress.mit.edu/sicp/">associated text</a> is still considered by many to be one of the best books ever written about computer programming.</li>
</ul>
</li>
</ol>
<p>Now that we have a working interpreter, <a href="https://eecs6009.mit.edu/fall17/labs/lab8B#catsoop_section_11">section 11</a> includes a few suggestions of neat (but optional) additional features that you might consider adding to your interpreter.  Although these are not required, they would make great extra practice if you're looking for it!</p>
<a name="catsoop_section_9"></a><h2>9) Code Submission</h2>
<p>
<!--START question code -->
</p><div class="question question-lab009" id="cs_qdiv_code" style="position: static">
<div id="code_rendered_question">
<input id="code" name="code" style="display: none" type="file"><button class="btn btn-catsoop" id="code_select_button">Select File</button>&nbsp;<tt><span id="code_selected_file">No file selected</span></tt><script type="text/javascript">$('#code_select_button').click(function (){$("#code").click();});$('#code').change(function (){$('#code_selected_file').text($('#code').val());});</script>
</div><div>
<span id="code_buttons">
<button class="submit btn btn-catsoop" id="code_submit" onclick="catsoop.submit(&#39;code&#39;);" style="margin-top: 10px;">Submit</button></span>
<span id="code_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
<span id="code_score_display"></span>
<div class="nsubmits_left" id="code_nsubmits_left">You have submitted this assignment 0 times.</div></div>
<div id="code_solution_container">
<div id="code_solution">
</div>
<div id="code_solution_explanation">
</div>
</div>
<div id="code_message"></div>
</div>
<!--END question code -->
<p></p>
<p>
<!--START question tests -->
</p><div id="tests_rendered_question">
</div><div>
<span id="tests_buttons"></span>
<span id="tests_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
<span id="tests_score_display"></span>
<div class="nsubmits_left" id="tests_nsubmits_left"></div></div>
<div id="tests_solution_container">
<div id="tests_solution">
</div>
<div id="tests_solution_explanation">
</div>
</div>
<div id="tests_message"></div>
<!--END question tests -->
<p></p>
<style>
.impsolution{display:none;}
</style>
<a name="catsoop_section_10"></a><h2>10) Checkoff</h2>
<p>Once you are finished with the code, please come to a tutorial, lab session, or
office hour and add yourself to the queue asking for a checkoff.  <strong>You must be
ready to discuss your code and test cases in detail before asking for a checkoff.</strong></p>
<p>You should be prepared to demonstrate your code (which should be
well-commented, should avoid repetition, and should make good use of helper
functions).  In particular, be prepared to discuss:</p>
<ul>
<li>any changes you made to your code from lab 8A (if any)</li>
<li>your internal representation of <code>#t</code> and <code>#f</code></li>
<li>how you implemented short circuiting in <code>and</code> and <code>or</code></li>
<li>your implementation of <code>LinkedList</code> and the associated functions</li>
<li>how you represented empty lists</li>
<li>your implementation of <code>let</code> and <code>set!</code></li>
<li>demonstrate your REPL working after loading a file</li>
</ul>
<p><a name="catsoop_section_10_1"></a></p><h3>10.1) Grade</h3>
<div class="response"><i>You have not yet received this checkoff.  When you have completed this checkoff, you will see a grade here.</i></div><p></p>
<p>
<!--START question coding -->
</p><div id="coding_rendered_question">
</div><div>
<span id="coding_buttons"></span>
<span id="coding_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
<span id="coding_score_display"></span>
<div class="nsubmits_left" id="coding_nsubmits_left"></div></div>
<div id="coding_solution_container">
<div id="coding_solution">
</div>
<div id="coding_solution_explanation">
</div>
</div>
<div id="coding_message"></div>
<!--END question coding -->
<p></p>
<a name="catsoop_section_11"></a><h2 id="catsoop_label_optional" label="optional">11) Optional Improvements</h2>
<p><a name="catsoop_section_11_1"></a></p><h3>11.1) Tail-Call Optimization</h3><p></p>
<p>If you have the time and interest, a <em>really</em> interesting and powerful optimization for our interpreter comes in the form of <em>tail-call optimization</em>.</p>
<p>A typical way of structuring the evaluator from above involves making recursive calls to <code>evaluate</code>, in particular when calling functions.  This is a nice way of structuring things, but it actually leads to issues.  For example, try calling <code>(fib 2000)</code> from your REPL after loading in the definitions from <code>resources/definitions.crl</code>.  What happens?</p>
<p>We run into issues with recursive calls because Python (necessarily) has a limit on the "depth" it will allow in a recursive call, to prevent infinite recursion.  Even if Python didn't have this limit, it would end up using quite a lot of memory allocating new stack frames for these recursive calls.</p>
<p>A neat optimization to avoid this problem is to implement <a href="http://stackoverflow.com/questions/310974/what-is-tail-call-optimization#310980" target="_blank">tail-call optimization</a>, whereby we can avoid some of these issues (allowing, for example, computing <code>(fib n)</code> for arbitrarily large <code>n</code>).</p>
<p>In short, many pieces of our interpreter involve returning the result of a single new call to <code>evaluate</code>, with a different expression and a different environment.  In those situations (conditionals, calling user-defined functions, etc.), it would be much better from an efficiency perspective to avoid the recursive call to <code>evaluate</code>; rather, we can simply adjust the values of the expression and the environment within the same call to <code>evaluate</code> by introducing a looping structure: keep looping until we have successfully evaluated a structure, and if the result is simply the result of evaluating another expression (potentially in a different environment), then adjust those values as necessary.</p>
<p>There are no tests for this optimization, but after doing so, your code should work for <code>(fib 100000)</code> (or arbitrarily high <code>n</code>)!</p>
<p><a name="catsoop_section_11_2"></a></p><h3>11.2) Additional (Optional) Improvements and Exercises</h3><p></p>
<p>If you have the time and interest, you can improve upon this base language by implementing some additional features.  Below are some ideas for possible improvements, or just for ways to get extra practice.  These are by no means required, but we are still happy to help with them if you get stuck!</p>
<ul>
<li>Add a function called <code>set-car!</code> that changes the first element of a linked list to a particular value.  Then use your list built-ins to implement a <code>set-elt-at-index</code> function in <em>carlae</em>.</li>
<li>Add support for the <code>quote</code> and <code>unquote</code> special forms (search for "special form: quote" on <a href="http://sicp.ai.mit.edu/Fall-2003/manuals/scheme-7.5.5/doc/scheme_3.html" target="_blank">this page</a>).</li>
<li>Implement strings as an additional data type (be careful of how you handle comments to make sure that a <code>;</code> within a string doesn't get treated as the start of a comment!).</li>
<li>Allow the body of a function defined with <code>lambda</code>, or the body of a <code>let</code> expression,  to consist of more than one expression (this should be implicitly translated to a <code>begin</code> expression).</li>
<li>Improve the system's error reporting by providing meaningful error messages that describe what error occurred.</li>
<li>Since <em>iteration</em> doesn't exist in <em>carlae</em> (except via recursion), try implementing some simple programs in <em>carlae</em> for extra practice with recursion!</li>
<li>Add support for importing functions and constants from Python modules (by mapping <em>carlae</em> functions to the the <code>__import__</code> and <code>getattr</code> Python functions) so that the following will work:</li>
</ul>
<pre><code class="nohighlight">in&gt; (define math (py-import (quote math)))
in&gt; (define sqrt (getattr math (quote sqrt)))
in&gt; (sqrt 2)
    out&gt; 1.4142135623730951
</code></pre>
<script src="./Lab 8B_files/cs_ajax.js" type="text/javascript"></script>
<script type="text/javascript">
catsoop.all_questions = ['code', 'tests', 'coding'];
catsoop.username = 'girishv';
catsoop.api_token = 'ib16MFin41ZcRNqJfKPv1RzFxVPyokfAQMnoQ2ByJHeITGrz4cNAS0TsDSOnrpXWI99J2S';
catsoop.this_path = 'https://eecs6009.mit.edu/fall17/labs/lab8B';
catsoop.path_info = ['fall17', 'labs', 'lab8B'];
catsoop.course = 'fall17';
catsoop.url_root = 'https://eecs6009.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";
</script></div>
</div>
<div class="col-md-1"></div>
</div>
</div>
<div id="bottom_menu">
</div>
</div>
<div id="footer">
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu/" target="_blank">CAT-SOOP</a> (development version).<br>
      CAT-SOOP is <a href="http://www.fsf.org/about/what-is-free-software" target="_blank">free/libre software</a>, available under the terms<br>of the <a href="https://eecs6009.mit.edu/cs_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
      (<a download="" href="https://eecs6009.mit.edu/cs_util/source.zip?course=fall17">Download Source Code</a>)
    </div>



<div class="swal2-container"><div class="swal2-overlay" tabindex="-1"></div><div class="swal2-modal" style="display: none; margin-top: -266px;" tabindex="-1"><div class="swal2-icon swal2-error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="swal2-icon swal2-question">?</div><div class="swal2-icon swal2-warning">!</div><div class="swal2-icon swal2-info">i</div><div class="swal2-icon swal2-success"><span class="line tip"></span> <span class="line long"></span><div class="placeholder"></div> <div class="fix"></div></div><img class="swal2-image"><h2></h2><div class="swal2-content"></div><input class="swal2-input"><select class="swal2-select"></select><div class="swal2-radio"></div><label for="swal2-checkbox" class="swal2-checkbox"><input type="checkbox" id="swal2-checkbox"></label><textarea class="swal2-textarea"></textarea><div class="swal2-validationerror"></div><hr class="swal2-spacer"><button class="swal2-confirm">OK</button><button class="swal2-cancel">Cancel</button><span class="swal2-close">×</span></div></div></body></html>